package ow_elements;

import com.badlogic.gdx.scenes.scene2d.Stage;
import com.badlogic.gdx.scenes.scene2d.ui.Label;

import screens.OverWorldScreen;

public class Blob extends Enemigo{
	
	private Element pie;
	private Element cabeza;
	private int direccion;
	private float velocidad;
	private boolean pisa;
	private boolean choca;
	
	public Blob(float x, float y, Stage s, OverWorldScreen nivel) {
		super(x,y,s,nivel);

        prepararAnimacion("02-OW/Personajes/personaje.chica1_ow.png");
        setAnimation(idleFrente);
        this.setPolygon(8, 32, 23, 5, 5);
        
	}
	
	
	public void act(float delta) {
		super.act(delta);
		comprobarColisiones();
		
		
		moveBy(direccion*velocidad*delta,0);
		
	}
	
	private void comprobarColisiones() {
		pisa=false;
		choca=false;
		
		for(Solid solido:this.nivel.solidos) {
			if(pie.overlaps(solido)) {
				pisa=true;
				
				
			}
			if(cabeza.overlaps(solido)) {
				choca=true;
			}
			
		}
		if(!pisa||choca) {
			this.direccion*=-1;
		}
		
	}
	
}
