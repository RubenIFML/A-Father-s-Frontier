package ow_elements;

import com.badlogic.gdx.math.Interpolation;
import com.badlogic.gdx.scenes.scene2d.Action;
import com.badlogic.gdx.scenes.scene2d.Actor;

public class FadeInAction extends Action {
    private float duration;
    private float elapsed;
    private float startAlpha;
    private float endAlpha;
    private Image image;

    public FadeInAction(float duration, float endAlpha, Actor blackBackgroundActor) {
        this.duration = duration;
        this.startAlpha = blackBackgroundActor.getColor().a;
        this.endAlpha = endAlpha;
        this.image = blackBackgroundActor;
    }

    @Override
    public boolean act(float delta) {
        elapsed += delta;
        if (elapsed >= duration) {
            image.getColor().a = endAlpha;
            return true;
        } else {
            float alpha = Interpolation.fade.apply(elapsed / duration);
            image.getColor().a = startAlpha + (endAlpha - startAlpha) * alpha;
            return false;
        }
    }
}